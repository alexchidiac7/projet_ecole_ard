
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../fastUserGuid/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>Simulation - Toucher robotique</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#simulation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Toucher robotique" class="md-header__button md-logo" aria-label="Toucher robotique" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Toucher robotique
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Simulation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Projet OPTISKIN

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../connections/" class="md-tabs__link">
        
  
    
  
  Connections électroniques

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../fastUserGuid/" class="md-tabs__link">
        
  
    
  
  Fast User Guide

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Simulation

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Toucher robotique" class="md-nav__button md-logo" aria-label="Toucher robotique" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Toucher robotique
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projet OPTISKIN
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../connections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connections électroniques
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../fastUserGuid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fast User Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Simulation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Simulation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#une-simulation-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Une simulation complète
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faire-les-mesures" class="md-nav__link">
    <span class="md-ellipsis">
      Faire les mesures
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conseils" class="md-nav__link">
    <span class="md-ellipsis">
      Conseils
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="simulation">Simulation</h1>
<p>Pour un exemple concret, nous voulons faire la simulation suivante:</p>
<p align="left">
  <img src="https://github.com/alexchidiac7/projet_ecole_ard/assets/54644626/a602c51f-e945-476a-aec4-3600502a77dc" alt="simulationMGO" style="width:300px; float:left; margin-right:20px;" />

  <br/><br/><br/><br/>

  La première mesure devait se faire de gauche à droite (E3 ver L2) comme indiqué sur la figure par le signe plus en forme, avec une force de 3N.

</p>

<p>Pour commencer, exécutez le fichier appelé `app.py et suivre le étapes suivantes:</p>
<ol>
<li><strong>Cliquez</strong> sur “<strong>Add G-code Inputs</strong>” pour ajouter une ligne.</li>
<li><strong>Entrez</strong> <code>0</code>, <code>-0.5</code>, et <code>1000</code> dans les cases de X, Y, et Vitesse respectivement.</li>
<li><strong>Cliquez</strong> sur “<strong>Save G-codes to File</strong>”</li>
<li><strong>Exécutez</strong> le script en cliquant <strong>Run CNC</strong>.</li>
</ol>
<p>Cela va déplacer la machine vers les coordonnées enregistrées.
Une fois que la machine s'est déplacée vers la position enregistrée, nous devons maintenant saisir le numéro de position 2, qui est la position finale de cette machine. N'oubliez pas que nous devons considérer les coordonnées comme absolues (l'origine est fixe)</p>
<p>Nous devons donc maintenant saisir les coordonnées de la position 2 qui sont (-3;-0,5)</p>
<ol>
<li><strong>Click</strong> on “<strong>Clear G-code Inputs</strong>” (pour tout supprimer et recommencer.)</li>
<li><strong>Click</strong> on “<strong>Add G-code Inputs</strong>”</li>
<li><strong>Enter</strong> <code>-3</code>, <code>-0.5</code>, <code>1000</code> in the fields for X, Y, and Speed respectively</li>
<li><strong>Click</strong> on “<strong>Save G-codes to File</strong>”</li>
</ol>
<p>Ne cliquez pas sur "Run CNC" car cela sera fait plus tard dans la simulation, pour l'instant nous positionnons simplement la machine sur la position 1 et enregistrons les coordonnées de la position 2.
Maintenant que la machine est en position 1 et que les coordonnées de la position 2 sont enregistrées, nous pouvons démarrer la simulation.</p>
<p>Assurez-vous que la jauge de l'axe Z ne touche pas le matériau. (montez-le manuellement si c'est le cas)</p>
<p><img alt="controlPanel" src="https://github.com/alexchidiac7/projet_ecole_ard/assets/54644626/c4d822b8-2826-4adb-826c-c74d32b66b52" /></p>
<h2 id="une-simulation-complete">Une simulation complète</h2>
<ol>
<li><strong>Mettez la Force.</strong> (ex : 3) -&gt; (ce qui signifie 3N)</li>
<li><strong>Cliquez</strong> sur "<strong>Soumettre la force de l'axe Z</strong>"</li>
</ol>
<p>Ici, la machine commencera à descendre dans la direction du matériau.</p>
<p>Avant de toucher le matériau, il faut "<strong>Run Keithley</strong>" pour commencer à mesurer le courant sur le phototransistor. Nous faisons cela avant de toucher le matériau pour prendre les premières valeurs enregistrées comme référence, ce qui sera nécessaire pour des mesures correctes ultérieurement.</p>
<ol>
<li><strong>Cliquez</strong> sur "<strong>Run Keithley</strong>" avant de toucher le matériel</li>
<li>Lorsque la jauge Z touche le matériau, <strong>attendez une seconde</strong> puis "<strong>Run CNC</strong>"<br />
   Cela commencera à déplacer la machine vers la position 2</li>
<li>Lorsque vous atteignez la position souhaitée, <strong>cliquez</strong> sur "<strong>Stop Simulation</strong>"</li>
</ol>
<p>Félicitations, vous venez de terminer une simulation entière.</p>
<h2 id="faire-les-mesures">Faire les mesures</h2>
<p>Maintenant pour voir les mesures de votre simulation :</p>
<ol>
<li><strong>Cliquez</strong> sur "<strong>Run Forces Plotter</strong>"</li>
<li><strong>Choisissez</strong> le fichier dans mesures_XYZ (vous devez choisir le plus récent, lié à votre simulation)</li>
</ol>
<p>En saisissant cela, vous obtiendrez un graphique, c'est le graphique des forces Fx, Fy et Fz.</p>
<p>Le même pour "<strong>Run Waveguide Loss Plotter</strong>" :</p>
<ol>
<li><strong>Cliquez</strong> sur "<strong>Run Waveguide Loss Plotter</strong>"</li>
<li><strong>Choisissez</strong> le fichier dans mesures_MUX (vous devez choisir le plus récent, lié à votre simulation)</li>
</ol>
<p>En saisissant cela, vous obtiendrez un graphique, c'est le graphique des pertes dans chaque canal des phototransistors (les pertes liées au courant enregistré par les phototransistors). C'est pourquoi nous avons dit qu'il fallait "<strong>Exécuter Keithley</strong>" avant de toucher le matériau, car nous avions besoin d'une valeur de référence pour calculer la perte, cette valeur de référence étant la valeur initiale enregistrée par chaque canal avant de toucher le matériau.</p>
<hr />
<p>C'est un exemple simple, mais c'est ainsi que sont effectuées 90% des mesures. Vous passez simplement de la position 1 à la position 2. Maintenant, avec l'interface que nous avons créée, elle est dynamique, donc vous pouvez passer à la position 1, puis au lieu de sauvegarder la position 2 souhaitée, vous pouvez sauvegarder plusieurs positions, par exemple :</p>
<p><img alt="controlPanelPres" src="https://github.com/alexchidiac7/projet_ecole_ard/assets/54644626/ee8a76a6-529a-4f43-8023-94e560a29151" /></p>
<p>Quand on clique sur “Save G-codes” et quand au milieu de la simulation on clique sur “Run CNC”, il passera de la position 1 (déplacée avant de démarrer la simulation) à la position 2 (-3;-0,5), attendra 5 secondes, puis à (-5;-0,5).</p>
<p>La vitesse est 1000 pour notre exemple, c'est la plus utilisée. Vous pouvez l'augmenter à 2000 pour des mouvements plus rapides ou la diminuer à 500 pour des mouvements plus lents. Nous avons enregistré ces valeurs pour chaque vitesse :</p>
<ul>
<li><strong>Vitesse de 1000</strong> : il bouge de 10 cm en 37s, soit 0.270 cm/s ou 2.70 mm/s.</li>
<li><strong>Vitesse de 2000</strong> : il bouge de 10 cm en 18s, soit 0.5 cm/s ou 5.5 mm/s.</li>
<li><strong>Vitesse de 4000</strong> : il bouge de 10 cm en 15s, soit 0.6 cm/s ou 6.6 mm/s.</li>
</ul>
<h2 id="conseils">Conseils</h2>
<p>Il y a un grand bouton rouge dans la machine, il est utilisé pour arrêter les axes X et Y.</p>
<p>L'axe Z peut être arrêté en utilisant le bouton "Stop Simulation" dans l'interface. Si l'axe continue à descendre, il faut redémarrer tout le Raspberry Pi.</p>
<p>Quand le câble réseau n'est pas connecté au Raspberry Pi, il y a un bug qui rend tout le système plus lent.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>